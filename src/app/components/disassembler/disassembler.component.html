<span *ngIf="!gameboy.isRomLoaded()">
    Please load a ROM first
</span>

<span *ngIf="gameboy.isRomLoaded() && !gameboy.isPaused()">
    Disassembler only runs when game is paused.
</span>

<nz-table #disassembled *ngIf="gameboy.isPaused()" [nzData]="disassembledInstructions" [nzScroll]="{ y: '540px' }"
    nzFrontPagination="false" nzShowPagination="false" [nzVirtualItemSize]="54" [nzVirtualMaxBufferPx]="1080"
    [nzVirtualMinBufferPx]="540">
    <thead>
        <tr>
            <th>Breakpoint</th>
            <th>Address</th>
            <th>Opcode</th>
            <th>Arguments</th>
        </tr>
    </thead>
    <tbody>
        <ng-template nz-virtual-scroll let-data let-index>
            <tr>
                <td>
                    <button *ngIf="index !== breakpointIndex" nz-button nzType="text" (click)="setBreakpoint(index)">
                        <i nz-icon nzType="pause-circle" nzTheme="outline"></i>
                    </button>
                    <button *ngIf="index === breakpointIndex" nz-button nzType="text" (click)="clearBreakpoint()">
                        <i nz-icon nzType="close-circle" nzTheme="twotone" nzTwotoneColor="#f5222d"></i>
                    </button>
                </td>
                <td>
                    {{ data.address | toBaseString: 16 : 16 }}
                </td>
                <td>
                    {{ data.opcode | toBaseString: 16 : 8 }}
                </td>
                <td>
                    {{ data.args | toBaseString: 16 : 16 }}
                </td>
            </tr>
        </ng-template>
    </tbody>
</nz-table>